{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Work\\\\projects\\\\conference_manager_client\\\\src\\\\component\\\\authManager\\\\AuthManager.js\";\nimport React from 'react';\nimport './AuthManager.css';\nimport axios from \"axios\";\nexport class AuthManager extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onLogin = event => {\n      let querystring = require('querystring');\n\n      let loginForm = event.target.parentElement;\n      let loginUrl = `${this.urlBase}:${this.port}/perform_login`;\n      let loginData = {\n        username: loginForm.username.value,\n        password: loginForm.password.value\n      };\n      /*return axios.post(loginUrl, loginData, {withCredentials: true, auth: loginData})\r\n          .then(() => this.props.history.push(\"/\"))\r\n          .catch(() => this.setState({loginError: true}))*/\n\n      return axios.post(loginUrl, querystring.stringify(loginData), {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        withCredentials: true\n      }).then(() => {\n        let getUserUrl = `${this.urlBase}:${this.port}/api/v1/participant`;\n        axios.get(getUserUrl, {\n          withCredentials: true\n        }).then(response => console.log(response.data));\n      }); //.then(() => this.props.history.push(\"/\"))\n      //.catch(() => this.setState({loginError: true}));\n    };\n\n    this.RenderLoginError = () => {\n      console.log(\"in render error\");\n\n      if (this.state.loginError === true) {\n        console.log(\"return error\");\n        return React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Incorrect login or password!\");\n      } else return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      });\n    };\n\n    this.urlBase = 'http://localhost';\n    this.port = '8080';\n    this.state = {\n      loginError: false\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(this.RenderLoginError, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      name: \"username\",\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"example@example.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.onLogin,\n      type: \"button\",\n      className: \"login-btn btn btn-black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Register\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/My/Work/projects/conference_manager_client/src/component/authManager/AuthManager.js"],"names":["React","axios","AuthManager","Component","constructor","props","onLogin","event","querystring","require","loginForm","target","parentElement","loginUrl","urlBase","port","loginData","username","value","password","post","stringify","headers","withCredentials","then","getUserUrl","get","response","console","log","data","RenderLoginError","state","loginError","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './AuthManager.css';\r\nimport axios from \"axios\";\r\n\r\nexport class AuthManager extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.urlBase = 'http://localhost';\r\n        this.port = '8080';\r\n\r\n        this.state = {\r\n            loginError: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    onLogin = (event) => {\r\n        let querystring = require('querystring');\r\n        let loginForm = event.target.parentElement;\r\n        let loginUrl = `${this.urlBase}:${this.port}/perform_login`;\r\n        let loginData = {\r\n            username: loginForm.username.value,\r\n            password: loginForm.password.value,\r\n        };\r\n        /*return axios.post(loginUrl, loginData, {withCredentials: true, auth: loginData})\r\n            .then(() => this.props.history.push(\"/\"))\r\n            .catch(() => this.setState({loginError: true}))*/\r\n        return axios.post(loginUrl,\r\n            querystring.stringify(loginData), {\r\n                headers: {\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n                },\r\n                withCredentials: true\r\n            })\r\n            .then(() => {let getUserUrl = `${this.urlBase}:${this.port}/api/v1/participant`;\r\n                axios.get(getUserUrl, {withCredentials: true})\r\n                    .then((response) => console.log(response.data));})\r\n            //.then(() => this.props.history.push(\"/\"))\r\n            //.catch(() => this.setState({loginError: true}));\r\n    };\r\n\r\n    RenderLoginError = () => {\r\n        console.log(\"in render error\");\r\n        if (this.state.loginError === true) {\r\n            console.log(\"return error\");\r\n            return (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                    Incorrect login or password!\r\n                </div>\r\n            );\r\n        }\r\n        else return (<div></div>);\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"login-main\">\r\n                <div className=\"login-form\">\r\n                    <form>\r\n                        <this.RenderLoginError/>\r\n                        <div className=\"form-group\">\r\n                            <label>Email</label>\r\n                            <input name=\"username\" type=\"email\" className=\"form-control\" placeholder=\"example@example.com\"/>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Password</label>\r\n                            <input name=\"password\" type=\"password\" className=\"form-control\" placeholder=\"Password\"/>\r\n                        </div>\r\n                        <button onClick={this.onLogin} type=\"button\" className=\"login-btn btn btn-black\">Login</button>\r\n                        <button type=\"button\" className=\"btn btn-secondary\">Register</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}