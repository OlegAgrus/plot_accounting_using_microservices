{"ast":null,"code":"var _jsxFileName = \"C:\\\\My\\\\Work\\\\projects\\\\conference_manager_client\\\\src\\\\component\\\\authManager\\\\AuthManager.js\";\nimport React from 'react';\nimport './AuthManager.css';\nimport axios from \"axios\";\nexport class AuthManager extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadUser = () => {\n      let getUserUrl = `${this.urlBase}:${this.port}/api/v1/participant`;\n      axios.get(getUserUrl, {\n        withCredentials: true\n      }).then(() => {\n        this.props.history.push(\"/\");\n      });\n    };\n\n    this.onLogin = event => {\n      let querystring = require('querystring');\n\n      let loginForm = event.target.parentElement;\n      let loginUrl = `${this.urlBase}:${this.port}/perform_login`;\n      let loginData = {\n        username: loginForm.username.value,\n        password: loginForm.password.value\n      };\n      return axios.post(loginUrl, querystring.stringify(loginData), {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        withCredentials: true\n      }).then(() => this.props.history.push(\"/\")).catch(() => this.setState({\n        loginError: true\n      }));\n    };\n\n    this.onRegister = event => {\n      let registerForm = event.target.parentElement;\n      let registerUrl = `${this.urlBase}:${this.port}/api/v1/register`;\n      let registerData = {\n        email: registerForm.username.value,\n        password: registerForm.password.value\n      };\n      return axios.post(registerUrl, registerData, {\n        withCredentials: true\n      }).then(() => {\n        this.props.history.push(\"/\");\n      });\n    };\n\n    this.RenderLoginError = () => {\n      console.log(\"in render error\");\n\n      if (this.state.loginError === true) {\n        console.log(\"return error\");\n        return React.createElement(\"div\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"Incorrect login or password!\");\n      } else return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      });\n    };\n\n    this.urlBase = 'http://localhost';\n    this.port = '8080';\n    this.state = {\n      loginError: false\n    };\n  }\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(this.RenderLoginError, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      name: \"username\",\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"example@example.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.onLogin,\n      type: \"button\",\n      className: \"login-btn btn btn-black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"button\", {\n      onClick: this.onRegister,\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Register\")))), React.createElement(\"div\", {\n      className: \"register-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(this.RenderLoginError, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      name: \"username\",\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"example@example.com\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.onLogin,\n      type: \"button\",\n      className: \"login-btn btn btn-black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"button\", {\n      onClick: this.onRegister,\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Register\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/My/Work/projects/conference_manager_client/src/component/authManager/AuthManager.js"],"names":["React","axios","AuthManager","Component","constructor","props","loadUser","getUserUrl","urlBase","port","get","withCredentials","then","history","push","onLogin","event","querystring","require","loginForm","target","parentElement","loginUrl","loginData","username","value","password","post","stringify","headers","catch","setState","loginError","onRegister","registerForm","registerUrl","registerData","email","RenderLoginError","console","log","state","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './AuthManager.css';\r\nimport axios from \"axios\";\r\n\r\nexport class AuthManager extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.urlBase = 'http://localhost';\r\n        this.port = '8080';\r\n\r\n        this.state = {\r\n            loginError: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadUser();\r\n    }\r\n\r\n    loadUser = () => {\r\n        let getUserUrl = `${this.urlBase}:${this.port}/api/v1/participant`;\r\n        axios.get(getUserUrl, {withCredentials: true})\r\n            .then(() => {this.props.history.push(\"/\")});\r\n    };\r\n\r\n    onLogin = (event) => {\r\n        let querystring = require('querystring');\r\n        let loginForm = event.target.parentElement;\r\n        let loginUrl = `${this.urlBase}:${this.port}/perform_login`;\r\n        let loginData = {\r\n            username: loginForm.username.value,\r\n            password: loginForm.password.value,\r\n        };\r\n        return axios.post(loginUrl,\r\n            querystring.stringify(loginData), {\r\n                headers: {\r\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n                },\r\n                withCredentials: true\r\n            })\r\n            .then(() => this.props.history.push(\"/\"))\r\n            .catch(() => this.setState({loginError: true}));\r\n    };\r\n\r\n    onRegister = (event) => {\r\n        let registerForm = event.target.parentElement;\r\n        let registerUrl = `${this.urlBase}:${this.port}/api/v1/register`;\r\n        let registerData = {\r\n            email: registerForm.username.value,\r\n            password: registerForm.password.value,\r\n        };\r\n        return axios.post(registerUrl, registerData, {withCredentials: true})\r\n            .then(() => {this.props.history.push(\"/\")});\r\n    };\r\n\r\n    RenderLoginError = () => {\r\n        console.log(\"in render error\");\r\n        if (this.state.loginError === true) {\r\n            console.log(\"return error\");\r\n            return (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                    Incorrect login or password!\r\n                </div>\r\n            );\r\n        }\r\n        else return (<div></div>);\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <div className=\"login-main\">\r\n                    <div className=\"login-form\">\r\n                        <form>\r\n                            <this.RenderLoginError/>\r\n                            <div className=\"form-group\">\r\n                                <label>Email</label>\r\n                                <input name=\"username\" type=\"email\" className=\"form-control\" placeholder=\"example@example.com\"/>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Password</label>\r\n                                <input name=\"password\" type=\"password\" className=\"form-control\" placeholder=\"Password\"/>\r\n                            </div>\r\n                            <button onClick={this.onLogin} type=\"button\" className=\"login-btn btn btn-black\">Login</button>\r\n                            <button onClick={this.onRegister} type=\"button\" className=\"btn btn-secondary\">Register</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"register-main\">\r\n                    <div className=\"login-form\">\r\n                        <form>\r\n                            <this.RenderLoginError/>\r\n                            <div className=\"form-group\">\r\n                                <label>Email</label>\r\n                                <input name=\"username\" type=\"email\" className=\"form-control\" placeholder=\"example@example.com\"/>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Password</label>\r\n                                <input name=\"password\" type=\"password\" className=\"form-control\" placeholder=\"Password\"/>\r\n                            </div>\r\n                            <button onClick={this.onLogin} type=\"button\" className=\"login-btn btn btn-black\">Login</button>\r\n                            <button onClick={this.onRegister} type=\"button\" className=\"btn btn-secondary\">Register</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}